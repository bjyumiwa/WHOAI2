
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>進化演出 | WhoAI</title>
<meta name="color-scheme" content="dark light" />
<style>
  html,body{height:100%;margin:0;overflow:hidden}
  body{
    font-family:"Noto Sans JP",system-ui,sans-serif;color:#fff;
    background:#000 url("space_background.png") center/cover fixed no-repeat;
    display:flex;align-items:center;justify-content:center;padding:12px;
  }
  .stage{
    position:relative; width:min(92vw,860px); aspect-ratio:1/0.75;
    border-radius:24px; overflow:hidden;
    background:rgba(0,0,0,.22);
    backdrop-filter:blur(3px); -webkit-backdrop-filter:blur(3px);
    border:1px solid rgba(255,255,255,.18);
    box-shadow:0 10px 28px rgba(0,0,0,.25), inset 0 10px 28px rgba(0,0,0,.25);
  }
  .head{position:absolute;left:0;right:0;top:12px;text-align:center;font-weight:700;text-shadow:0 2px 6px rgba(0,0,0,.35)}
  .charWrap{position:absolute;left:50%;top:52%;transform:translate(-50%,-50%);filter:drop-shadow(0 12px 26px rgba(0,0,0,.5))}
  .charImg{width:min(28vw,260px);max-width:42vmin;object-fit:contain}
  .cta{position:absolute;left:0;right:0;bottom:16px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
  .btn{appearance:none;border:none;border-radius:14px;cursor:pointer;padding:10px 14px;font-weight:800;font-size:clamp(14px,2.5vw,16px);box-shadow:0 6px 18px rgba(0,0,0,.28)}
  .btn-primary{background:#fff;color:#111}
  .btn-ghost{background:rgba(255,255,255,.18);color:#fff;border:1px solid rgba(255,255,255,.28)}
</style>
</head>
<body>
  <main class="stage">
    <div class="head">このまま見守る？ それとも会話する？</div>

    <!-- タネのまま表示（進化しない） -->
    <div class="charWrap">
      <img id="charImg" class="charImg" alt="tane character">
    </div>

    <!-- 行き先を入れ替え済み -->
    <div class="cta" aria-label="次の行き先を選択">
      <button id="btnObserve" class="btn btn-ghost"  type="button">👀 観察をつづける</button>
      <button id="btnTalk"    class="btn btn-primary" type="button">💬 会話する（WhoAI）</button>
    </div>
  </main>

<!-- evolution.html（該当の下部だけ差し替えOK） -->
<script>
  const KEY={color:'whoai_color',name:'whoai_name'};
  const color=(localStorage.getItem(KEY.color)||'pink').toLowerCase();

  // タネ画像表示（そのまま観察・会話でもタネのまま）
  const img=document.getElementById('charImg');
  (function(){const a=[`tane_${color}.png`,'tane.png'];let i=0;const n=()=>{if(i>=a.length){img.style.display='none';return}const u=a[i++],t=new Image();t.onload=()=>img.src=u;t.onerror=n;t.src=u};n()})();

  // ✅ 絶対パス & 明示的なURL（観察＝whoai_talk_evolved、会話＝whoai_talk）
  const OBSERVE_URL = '/WHOAI2/whoai_talk_evolved.html?form=tane&from=evo';
  const TALK_URL    = '/WHOAI2/whoai_talk.html?form=tane&from=evo';

  document.getElementById('btnObserve').onclick = ()=>location.assign(OBSERVE_URL);
  document.getElementById('btnTalk').onclick    = ()=>location.assign(TALK_URL);
</script>

</body>
</html>
