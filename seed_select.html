<!-- FILE: /WHOAI2/seed_select.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ã‚¿ãƒã‚’é¸ã¶ | WhoAI</title>
<meta name="color-scheme" content="dark light" />
<style>
  :root{
    --fg:#fff; --glass:rgba(0,0,0,.45); --line:rgba(255,255,255,.2);
    --accent:#7ac7ff; --ink:#00283e;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0}
  body{
    font-family:"Noto Sans JP",system-ui,sans-serif;color:var(--fg);
    background:#000 url("space_background.png") center/cover fixed no-repeat;
    display:flex;flex-direction:column;align-items:center;justify-content:center;
    gap:18px;padding:16px;
  }
  h1{margin:0;font-size:clamp(22px,4.5vw,30px);text-shadow:0 2px 10px rgba(0,0,0,.55)}
  p.lead{margin:0 0 6px;opacity:.9}

  .wrap{width:min(960px,94vw)}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:10px}
  .card{
    background:var(--glass);backdrop-filter:blur(4px);
    border:1px solid var(--line);border-radius:16px;padding:16px;cursor:pointer;
    display:flex;align-items:center;gap:12px;transition:transform .06s ease, outline .06s ease;
    outline:2px solid transparent;
  }
  .card:hover{transform:translateY(-1px)}
  .card.selected{outline:2px solid var(--accent)}
  .emoji{font-size:28px}
  .name{font-size:18px;font-weight:800}
  .desc{font-size:12px;opacity:.9;margin-top:2px}

  .actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
  .btn{
    padding:10px 16px;border-radius:12px;font-weight:800;cursor:pointer;border:0;
    box-shadow:0 6px 18px rgba(0,0,0,.35);
  }
  .primary{background:var(--accent);color:var(--ink)}
  .ghost{background:rgba(255,255,255,.1);color:#fff;border:1px solid var(--line)}
  .btn:active{transform:translateY(1px)}
  .primary:disabled{opacity:.5;cursor:not-allowed;box-shadow:none}

  .chips{position:fixed;left:50%;top:10px;transform:translateX(-50%);display:flex;gap:8px;flex-wrap:wrap}
  .chip{background:rgba(0,0,0,.35);border:1px solid var(--line);padding:6px 10px;border-radius:999px;font-size:12px;cursor:pointer}
</style>
</head>
<body>
  <!-- è¨€èªã‚¯ã‚¤ãƒƒã‚¯åˆ‡æ›¿ï¼ˆä»»æ„ï¼‰ -->
  <div class="chips" id="chips">
    <div class="chip" data-lang="ja">æ—¥æœ¬èª</div>
    <div class="chip" data-lang="en">English</div>
    <div class="chip" data-lang="zh-CN">ç®€ä½“</div>
    <div class="chip" data-lang="zh-TW">ç¹é«”</div>
    <div class="chip" data-lang="ko">í•œêµ­ì–´</div>
  </div>

  <div class="wrap">
    <h1 id="t_title">æœ€åˆã®ã‚¿ãƒã‚’é¸ã‚“ã§ãã ã•ã„</h1>
    <p id="t_desc" class="lead">ã‚ã¨ã‹ã‚‰å¤‰æ›´ã§ãã¾ã›ã‚“ã€‚é¸ã‚“ã ã‚¿ã‚¤ãƒ—ã¯æ€§æ ¼ãƒ»è¦‹ãŸç›®ã®ãƒ™ãƒ¼ã‚¹ã«ãªã‚Šã¾ã™ã€‚</p>

    <div class="grid" id="choices">
      <div class="card" data-type="apple" tabindex="0" aria-label="ã‚Šã‚“ã”ã‚¿ã‚¤ãƒ—">
        <div class="emoji">ğŸ</div>
        <div>
          <div class="name" id="t_apple">ãƒªãƒ³ã‚´ã‚¿ã‚¤ãƒ—</div>
          <div class="desc" id="t_apple_d">ãƒãƒ©ãƒ³ã‚¹ãŒã‚ˆãã€ç´ ç›´ã«è‚²ã¡ã‚„ã™ã„ã€‚</div>
        </div>
      </div>

      <div class="card" data-type="leaf" tabindex="0" aria-label="ã¯ã£ã±ã‚¿ã‚¤ãƒ—">
        <div class="emoji">ğŸƒ</div>
        <div>
          <div class="name" id="t_leaf">è‘‰ã£ã±ã‚¿ã‚¤ãƒ—</div>
          <div class="desc" id="t_leaf_d">è‡ªç”±å¥”æ”¾ã€‚éŠã¶ã®ãŒå¤§å¥½ãã€‚</div>
        </div>
      </div>
    </div>

    <div class="actions">
      <button class="btn ghost" onclick="history.back()" id="t_back">æˆ»ã‚‹</button>
      <button class="btn primary" id="nextBtn" disabled>æ¬¡ã¸ï¼ˆåå‰ã‚’ä»˜ã‘ã‚‹ï¼‰</button>
    </div>
  </div>

<script>
/* ===== i18n ===== */
const MSG = {
  ja:{ title:"æœ€åˆã®ã‚¿ãƒã‚’é¸ã‚“ã§ãã ã•ã„", desc:"ã‚ã¨ã‹ã‚‰å¤‰æ›´ã§ãã¾ã›ã‚“ã€‚é¸ã‚“ã ã‚¿ã‚¤ãƒ—ã¯æ€§æ ¼ãƒ»è¦‹ãŸç›®ã®ãƒ™ãƒ¼ã‚¹ã«ãªã‚Šã¾ã™ã€‚",
       apple:"ãƒªãƒ³ã‚´ã‚¿ã‚¤ãƒ—", apple_d:"ãƒãƒ©ãƒ³ã‚¹ãŒã‚ˆãã€ç´ ç›´ã«è‚²ã¡ã‚„ã™ã„ã€‚",
       leaf:"è‘‰ã£ã±ã‚¿ã‚¤ãƒ—", leaf_d:"è‡ªç”±å¥”æ”¾ã€‚éŠã¶ã®ãŒå¤§å¥½ãã€‚",
       back:"æˆ»ã‚‹", next:"æ¬¡ã¸ï¼ˆåå‰ã‚’ä»˜ã‘ã‚‹ï¼‰" },
  en:{ title:"Pick your initial seed", desc:"This cannot be changed later. It affects personality and appearance.",
       apple:"Apple type", apple_d:"Balanced and obedient.",
       leaf:"Leaf type", leaf_d:"Free-spirited and playful.",
       back:"Back", next:"Next (Name your character)" },
  "zh-CN":{ title:"è¯·é€‰æ‹©æœ€åˆçš„ç§å­", desc:"ä¹‹åæ— æ³•æ›´æ”¹ï¼Œå°†å½±å“æ€§æ ¼ä¸å¤–è§‚ã€‚",
       apple:"è‹¹æœç±»å‹", apple_d:"å‡è¡¡ã€å®¹æ˜“åŸ¹å…»ã€‚",
       leaf:"æ ‘å¶ç±»å‹", leaf_d:"è‡ªç”±å¥”æ”¾ï¼Œå–œæ¬¢ç©è€ã€‚",
       back:"è¿”å›", next:"ä¸‹ä¸€æ­¥ï¼ˆå‘½åï¼‰" },
  "zh-TW":{ title:"è«‹é¸æ“‡æœ€åˆçš„ç¨®å­", desc:"ä¹‹å¾Œç„¡æ³•æ›´æ”¹ï¼Œæœƒå½±éŸ¿æ€§æ ¼èˆ‡å¤–è§€ã€‚",
       apple:"è˜‹æœé¡å‹", apple_d:"å‡è¡¡ã€å¥½åŸ¹è‚²ã€‚",
       leaf:"è‘‰å­é¡å‹", leaf_d:"è‡ªç”±å¥”æ”¾ï¼Œæœ€æ„›ç©è€ã€‚",
       back:"è¿”å›", next:"ä¸‹ä¸€æ­¥ï¼ˆå‘½åï¼‰" },
  ko:{ title:"ì²˜ìŒ ì”¨ì•—ì„ ì„ íƒí•˜ì„¸ìš”", desc:"ë‚˜ì¤‘ì— ë°”ê¿€ ìˆ˜ ì—†ê³  ì„±ê²©/ì™¸í˜•ì— ì˜í–¥ì„ ì¤ë‹ˆë‹¤.",
       apple:"ì‚¬ê³¼ íƒ€ì…", apple_d:"ê· í˜• ì¡íˆê³  ìˆœí•˜ê²Œ ìë¼ìš”.",
       leaf:"ë‚˜ë­‡ì íƒ€ì…", leaf_d:"ììœ ë¶„ë°©, ë…¸ëŠ” ê±¸ ì¢‹ì•„í•´ìš”.",
       back:"ë’¤ë¡œ", next:"ë‹¤ìŒ (ì´ë¦„ ì§“ê¸°)" }
};
function getLang(){ return localStorage.getItem('lang') || 'ja'; }
function setLangCode(code){
  localStorage.setItem('lang', code);
  const L = MSG[code] || MSG.ja;
  document.getElementById('t_title').textContent = L.title;
  document.getElementById('t_desc').textContent  = L.desc;
  document.getElementById('t_apple').textContent = L.apple;
  document.getElementById('t_apple_d').textContent = L.apple_d;
  document.getElementById('t_leaf').textContent  = L.leaf;
  document.getElementById('t_leaf_d').textContent  = L.leaf_d;
  document.getElementById('t_back').textContent  = L.back;
  document.getElementById('nextBtn').textContent = L.next;
  document.documentElement.lang =
    code==='zh-TW' ? 'zh-Hant' : code==='zh-CN' ? 'zh-Hans' : code;
}

/* ===== UI wiring ===== */
const $ = q=>document.querySelector(q);
const $$= q=>Array.from(document.querySelectorAll(q));

let current = localStorage.getItem('seedType') || null;

function render(){
  $$('.card').forEach(c=>c.classList.toggle('selected', c.dataset.type===current));
  $('#nextBtn').disabled = !current;
}

// é¸æŠ
$$('.card').forEach(c=>{
  c.addEventListener('click', ()=>{ current = c.dataset.type; render(); });
  c.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); current=c.dataset.type; render(); }});
});

// è¨€èªãƒãƒƒãƒ—
$$('#chips .chip').forEach(ch=>ch.addEventListener('click', ()=>setLangCode(ch.dataset.lang)));

// æ¬¡ã¸
$('#nextBtn').addEventListener('click', ()=>{
  if(!current) return;
  localStorage.setItem('seedType', current);
  // ã“ã“ã§ã¯ macaronColor ã¯è¨­å®šã—ãªã„ï¼ˆå¾Œæ®µã® macaron_select.html ã§æ±ºã‚ã‚‹ï¼‰
  location.href = 'naming.html';
});

// åˆæœŸåŒ–
document.addEventListener('DOMContentLoaded', ()=>{
  setLangCode(getLang());
  render();
});
</script>
</body>
</html>
