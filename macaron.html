<!-- FILE: /WHOAI2/macaron.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>マカロンを選ぶ | WhoAI</title>
<style>
  html,body{height:100%;margin:0}
  body{
    font-family:"Noto Sans JP",sans-serif;
    background:#000 url("space_background.png") center/cover fixed no-repeat;
    display:flex;flex-direction:column;align-items:center;justify-content:center;
    color:#fff;
  }
  h1{margin-bottom:20px}
  .macaron-container{
    display:flex;gap:20px;flex-wrap:wrap;justify-content:center
  }
  .macaron{
    width:120px;height:120px;border-radius:50%;overflow:hidden;
    display:flex;align-items:center;justify-content:center;
    background:rgba(255,255,255,.1);cursor:pointer;
    transition:transform .2s ease;
  }
  .macaron:hover{transform:scale(1.05)}
  .macaron img{width:100%;height:100%;object-fit:contain}
  .label{text-align:center;margin-top:8px;font-weight:700}
</style>
</head>
<body>
  <h1>マカロンを選んでね</h1>
  <div class="macaron-container" id="container"></div>

<script>
  const KEY={color:'whoai_color',xp:'whoai_xp'};
  const COLORS=[
    {key:'pink',   label:'ピンク'},
    {key:'blue',   label:'ブルー'},
    {key:'green',  label:'グリーン'},
    {key:'purple', label:'パープル'}
  ];

  const container=document.getElementById('container');

  COLORS.forEach(({key,label})=>{
    const wrap=document.createElement('div');
    wrap.style.display='flex';wrap.style.flexDirection='column';wrap.style.alignItems='center';

    const btn=document.createElement('div');
    btn.className='macaron';
    const img=document.createElement('img');
    // === ここで /WHOAI2/ フォルダ直下を参照 ===
    img.src=`/WHOAI2/macaron_${key}.png`;
    img.alt=`${label}のマカロン`;
    img.onerror=()=>{img.style.display='none';btn.textContent='(画像なし)'};

    btn.appendChild(img);
    btn.addEventListener('click',()=>{
      localStorage.setItem(KEY.color,key);
      localStorage.setItem(KEY.xp,'0'); // XPリセット
      location.href='whoai_talk.html';
    });

    const cap=document.createElement('div');
    cap.className='label'; cap.textContent=label;

    wrap.appendChild(btn);wrap.appendChild(cap);
    container.appendChild(wrap);
  });
</script>
</body>
</html>
