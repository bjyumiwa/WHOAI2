<!-- FILE: /WHOAI2/index.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WhoAI 2 | Welcome</title>
  <meta name="description" content="WHOAI2: 人工知能と人間の関係性を考える研究型アプリケーション" />
  <!-- 404対策：簡易favicon -->
  <link rel="icon"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.85em' font-size='80'%3E🌙%3C/text%3E%3C/svg%3E" />
  <style>
    :root{
      --bg-blur: blur(3px);
      --card-bg: rgba(0,0,0,.38);
      --card-bd: rgba(255,255,255,.18);
      --text:#fff;
      --accent:#f7b0bf;
      --accent-ink:#222;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      font-family:"Noto Sans JP",system-ui,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Noto Color Emoji","Segoe UI Emoji",sans-serif;
      color:var(--text);
      background:#000 center/cover fixed no-repeat;
      background-image:url("space_background.png");
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      padding:24px;
    }
    .hero{
      width:min(92vw, 860px);
      text-align:center;
      padding:32px 20px 28px;
      background:linear-gradient(transparent,rgba(0,0,0,.25));
      border-radius:20px;
    }
    .hero img#hero-ako{
      display:block;
      margin:0 auto 22px;
      width:min(42vw,260px);
      height:auto;
      filter: drop-shadow(0 6px 18px rgba(0,0,0,.35));
    }
    h1{
      margin:0 0 14px;
      font-size:clamp(28px,5vw,44px);
      letter-spacing:.02em;
      text-shadow:0 2px 10px rgba(0,0,0,.6);
    }
    .lead{
      margin:0 auto 20px;
      width:min(90%, 740px);
      font-size:clamp(15px,2.2vw,18px);
      line-height:1.9;
      text-shadow:0 1px 6px rgba(0,0,0,.55);
    }
    .cta{ display:flex;gap:10px;justify-content:center;flex-wrap:wrap }
    .primary,.ghost{
      padding:.9rem 1.3rem;border:0;border-radius:14px;cursor:pointer;
      font-weight:800;box-shadow:0 6px 18px rgba(0,0,0,.35);transition:transform .06s ease;
    }
    .primary{ background:var(--accent); color:var(--accent-ink); }
    .ghost{ background:rgba(255,255,255,.08); color:#fff; border:1px solid rgba(255,255,255,.22) }
    .primary:active,.ghost:active{ transform:translateY(1px) }

    .lang{ margin-top:14px; font-size:14px; opacity:.95; user-select:none; }
    .lang button{ background:none;border:0;color:#fff;text-decoration:underline;cursor:pointer;padding:2px 4px;margin:0 2px }
    .note{font-size:12px;opacity:.8;margin-top:10px}
  </style>
</head>
<body>

  <div class="hero" role="banner" aria-label="WhoAI 2 hero">
    <!-- ★ キャラ画像（既存） -->
    <img id="hero-ako" src="ako.png?v=2" alt="アコーディオンを弾くキャラクター" />

    <h1 id="t_title">WhoAIへようこそ</h1>
    <p id="t_desc" class="lead">まずはタネのタイプを選んで、名前を付けてから育てよう。ポイントが貯まるとマカロンで進化！</p>

    <div class="cta">
      <!-- ★ はじめる：seed_select.html（リンゴ/葉っぱ） -->
      <button id="t_start" class="primary" onclick="location.href='seed_select.html'">はじめる（タネを選ぶ）</button>
      <!-- 続きから（進行状況があれば表示） -->
      <button id="t_continue" class="ghost" style="display:none" onclick="continueFlow()">つづきから</button>
      <!-- ★ 研究について（about.htmlへ） -->
      <button id="t_about" class="ghost" onclick="location.href='about.html'">この研究について</button>
    </div>

    <div class="lang" aria-label="language switch">
      <button type="button" onclick="setLang('ja')">日本語</button> |
      <button type="button" onclick="setLang('en')">English</button> |
      <button type="button" onclick="setLang('zh-CN')">简体</button> |
      <button type="button" onclick="setLang('zh-TW')">繁體</button> |
      <button type="button" onclick="setLang('ko')">한국어</button>
      <div class="note" id="t_note">言語設定は次回アクセス時も保持されます。</div>
    </div>
  </div>

  <script>
    /* ===== 多言語テキスト ===== */
    const I18N = {
      "ja": {
        title: "WhoAIへようこそ",
        desc: "まずは“りんご or はっぱ”を選んで、タネに育てよう。音符を集めて曲ができたら進化！",
        start: "はじめる（タネを選ぶ）",
        cont:  "つづきから",
        about: "この研究について",
        note:  "言語設定は次回アクセス時も保持されます。"
      },
      "en": {
        title: "Welcome to WhoAI",
        desc: "First choose Apple or Leaf to sprout a seed. Collect notes to complete a song and evolve!",
        start: "Start (Choose a seed)",
        cont:  "Continue",
        about: "About this research",
        note:  "Your language preference is saved for your next visit."
      },
      "zh-CN": {
        title: "欢迎来到 WhoAI",
        desc: "先选择“苹果或树叶”来培育种子。收集音符完成乐曲后即可进化！",
        start: "开始（选择种子）",
        cont:  "继续",
        about: "关于本研究",
        note:  "语言设置会在下次访问时保留。"
      },
      "zh-TW": {
        title: "歡迎來到 WhoAI",
        desc: "先選「蘋果或樹葉」來培育種子。收集音符完成樂曲後即可進化！",
        start: "開始（選擇種子）",
        cont:  "從上次繼續",
        about: "關於本研究",
        note:  "語言設定會在下次造訪時保留。"
      },
      "ko": {
        title: "WhoAI에 오신 것을 환영합니다",
        desc: "먼저 사과 또는 잎을 선택해 씨앗을 키워 보세요. 음표를 모아 곡을 완성하면 진화해요!",
        start: "시작하기 (씨앗 선택)",
        cont:  "이어하기",
        about: "연구 소개",
        note:  "언어 설정은 다음 방문 시에도 유지됩니다."
      }
    };

    function applyLang(lang){
      const t = I18N[lang] || I18N.ja;
      document.documentElement.lang = lang.startsWith('zh') ? 'zh' : lang;
      document.getElementById('t_title').textContent = t.title;
      document.getElementById('t_desc').textContent  = t.desc;
      document.getElementById('t_start').textContent = t.start;
      document.getElementById('t_about').textContent = t.about;
      document.getElementById('t_note').textContent  = t.note;

      const contBtn = document.getElementById('t_continue');
      if (contBtn.style.display !== 'none') contBtn.textContent = t.cont;
    }

    /* グローバル公開（既存HTMLのonclickに対応） */
    function setLang(lang){
      localStorage.setItem('whoai_lang', lang);
      applyLang(lang);
    }

    /* 進行状況によって「つづきから」を表示 */
    function continueFlow(){
      const step = localStorage.getItem('whoai_progress'); // 例: 'care', 'talk', 'evolved', ...
      // 適宜ルーティング（無ければ seed_select へ）
      switch(step){
        case 'care':     location.href = 'whoai_care.html'; break;
        case 'talk':     location.href = 'whoai_talk.html'; break;
        case 'evolved':  location.href = 'whoai_talk_evolved.html'; break;
        default:         location.href = 'seed_select.html'; break;
      }
    }

    /* 初期化：言語と続きボタン */
    (function init(){
      const savedLang = localStorage.getItem('whoai_lang');
      const browser   = (navigator.language || 'ja').toLowerCase();
      const fallback  = ['ja','en','zh-cn','zh-tw','ko'].find(k=>browser.startsWith(k)) || 'ja';
      applyLang(savedLang || fallback);

      // 進行状況がある場合のみ「つづきから」を表示
      const hasProgress = !!localStorage.getItem('whoai_progress');
      if (hasProgress) document.getElementById('t_continue').style.display = '';
    })();
  </script>
</body>
</html>
